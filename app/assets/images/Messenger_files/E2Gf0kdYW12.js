if (self.CavalryLogger) { CavalryLogger.start_js(["RCyiL"]); }

__d("TimeSpentArray",["Banzai","TimeSlice","clearTimeout","pageID","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=2,h=g*32,i,j,k,l,m,n,o,p,q,r={},s;function t(){return{timeoutDelayMap:r,nextDelay:s,timeoutInSeconds:k}}function u(){if(i){var a=Date.now();a>m&&(o=Math.min(h,Math.ceil(a/1e3-l)));a=z();a&&i(a,s)}y()}function v(){w(),j=b("setTimeoutAcrossTransitions")(b("TimeSlice").guard(u,"TimeSpentArray Timeout",{propagationType:b("TimeSlice").PropagationType.ORPHAN}),k*1e3)}function w(){j&&(b("clearTimeout")(j),j=null)}function x(a){__p&&__p();l=a;m=l*1e3;n=[1];for(var a=1;a<g;a++)n.push(0);o=1;p+=1;q+=1;a=q.toString()+"_delay";s=r[a];s===undefined&&(s=r.delay);a=q.toString()+"_timeout";a=r[a];a===undefined&&(a=r.timeout);a=Math.min(a,h);k=a||h;v()}function y(){w(),n=null}function z(){return!n?null:{tos_id:b("pageID"),start_time:l,tos_array:n.slice(0),tos_len:o,tos_seq:q,tos_cum:p}}function A(a){if(a>=m&&a-m<1e3)return;B(Math.floor(a/1e3))}function B(a){var b=a-l;(b<0||b>=h)&&u();!n?x(a):(n[b>>5]|=1<<(b&31),o=b+1,p+=1,m=a*1e3)}e.exports={init:function(a,c,d){p=0,q=-1,i=a,typeof c==="object"&&c!==null?r=c:r={},d||(d=Date.now()),x(Math.floor(d/1e3)),b("Banzai").subscribe(b("Banzai").SHUTDOWN,u)},update:function(a){A(a)},get:function(){return z()},ship:function(){u()},reset:function(){y()},testState:function(){return t()}}}),null);