if (self.CavalryLogger) { CavalryLogger.start_js(["ZDDan"]); }

__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};a.prototype.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMid=function(a){this.$1.mid=a;return this};a.prototype.setSenderID=function(a){this.$1.sender_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0,vc:!0};e.exports=a}),null);
__d("MessengerReactionsGroups.react",["cx","fbt","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.reactions,d=a.selectedGroup,e=a.onGroupSelected,f={all:0},g=[];a=Object.values(c);a.forEach(function(a){typeof a==="string"&&(!f[a]?(f[a]=1,g.push(a)):f[a]++,f.all++)});var i=!1;c=g.sort(function(a,b){return f[b]-f[a]}).map(function(a){var c=d===a;i=i||c;return b("React").createElement("li",{className:c?"selected":"",key:a,onClick:e.bind(this,a),role:"button",tabIndex:"0"},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:a}),b("React").createElement("span",{className:"_359u"},f[a]))}.bind(this));return b("React").createElement("ol",{className:"_koh _2pit"},b("React").createElement("li",{className:i?"":"selected",key:"allReactions",onClick:e.bind(this,null),role:"button",tabIndex:"0"},b("React").createElement("span",{className:"_359u"},h._({"*":"All {total reactions}"},[h._param("total reactions",f.all,[0])]))),c)};function a(){i.apply(this,arguments)}a.propTypes={onGroupSelected:c.func.isRequired,reactions:c.object.isRequired,selectedGroup:c.string.isRequired};e.exports=a}),null);
__d("MessengerReactionsList.react",["cx","Image.react","MercuryIDs","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerProfileImageWrapperReact.bs").jsComponent;c=b("React").PropTypes;var j=40;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.participants,d=a.reactions;a=Object.keys(d).map(function(a){var e=b("MercuryIDs").getParticipantIDFromUserID(a),f;c&&(f=c.get(e));var g=null;f||(f=b("MessengerParticipants.bs").getNow(e));f&&(g=b("React").createElement(b("Image.react"),{alt:"",src:f.image_src,height:j,width:j}));e=f&&f.name;var h=d[a];return b("React").createElement("div",{className:"_3s-3 _2pin",key:"profile-reaction-"+a},b("React").createElement(i,{size:j,showBadge:!1},g,b("React").createElement("div",{className:"_3s-4"},b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:h}))),b("React").createElement("div",{className:"_3s-8 _3-9b _3-8w"},e))});return b("React").createElement("div",{className:"_5jpi _2pit"},a)};function a(){h.apply(this,arguments)}a.propTypes={participants:c.object,reactions:c.object.isRequired};e.exports=a}),null);
__d("MessengerReactionsOverview.react",["MessengerReactionsGroups.react","MessengerReactionsList.react","MessengerWebViewReactionsTypedLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h="ALL";d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={selectedGroup:h},this.$1=function(a){var c=this.props.message,d=c.reactions,e;!a?e=Object.values(d).length:e=Object.values(d).filter(function(b){return b===a}).length;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("select_group").setMid(c.message_id).setSenderID(c.author).setEmojiGroup(a||h).setEmojiGroupCount(e).log();!a?this.setState({selectedGroup:h}):this.setState({selectedGroup:a})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.participants;a=a.message;var d=a.reactions,e=this.state.selectedGroup;if(!d)return null;if(e===h)a=d;else{var f=Object.keys(d);a=f.reduce(function(a,b){d[b]===e&&(a[b]=e);return a},{})}return b("React").createElement("div",null,b("React").createElement(b("MessengerReactionsGroups.react"),{onGroupSelected:this.$1,reactions:d,selectedGroup:e}),b("React").createElement(b("MessengerReactionsList.react"),{participants:c,reactions:a}))};a.propTypes={isFromViewer:c.bool.isRequired,message:c.object.isRequired,participants:c.object.isRequired};e.exports=a}),null);
__d("MessengerReactionsOverviewReact.bs",["ReasonReact.bs","MessengerReactionsOverview.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerReactionsOverview.react"),{isFromViewer:a,message:c,participants:d},e)}f.make=a}),null);
__d("MessengerReactionsDialogReact.bs",["fbt","React","ReasonReact.bs","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerReactionsOverviewReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){return b("MessengerDialogs.bs").removeDialog(0)}var i=b("ReasonReact.bs").statelessComponent("MessengerReactionsDialogReact");function j(a,c,d,e){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){return b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Dialog[0](0,0,0,0,0,["default"],[544],[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Header[0](0,0,[b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Title[0](0,[g._("Message Reactions")])),b("ReasonReact.bs").element(0,0,b("MessengerDialogReact.bs").Button[0](0,[g._("Close")],0,0,[h],[0],0,0,[]))])),b("React").createElement("div",undefined,b("ReasonReact.bs").element(0,0,b("MessengerReactionsOverviewReact.bs").make(a,c,d,[])))]))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.isFromViewer,a.message,a.participants,[])});f.handleDone=h;f.component=i;f.make=j;f.jsComponent=a}),null);