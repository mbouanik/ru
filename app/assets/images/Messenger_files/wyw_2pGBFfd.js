if (self.CavalryLogger) { CavalryLogger.start_js(["wwzQ7"]); }

__d("RepliedToMessageContent.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","Image.react","LineClamp.react","MercuryAttachmentType","MessengerTextWithEntities.react","React","RepliedToMessageStatusForGraphQL","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$4=function(){this.$5();if(this.props.repliedToMessageData.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;var a=this.props.threadID;this.props.isMessengerUI?this.props.scrollToRepliedMessage&&this.props.scrollToRepliedMessage(this.props.repliedToMessageData.message.message_id):a!==null&&a!==undefined&&b("FantaTabActions").jumpToMessage(a,this.props.repliedToMessageData.message.message_id)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.isFromViewer,d=a.isMessengerUI;a=a.repliedToMessageData;var e=a.status===b("RepliedToMessageStatusForGraphQL").VALID?a.message.body:this.$1(a),f=null;!e&&a.message.attachments&&(f=this.$2(a.message.attachments,c,d),e=this.$3(a.message.attachments));c=b("React").createElement(b("LineClamp.react"),{className:"_4k7e",lines:2,lineHeight:d?16:13,fitHeightToShorterText:!0},b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:e}));if(!this.props.replyInOneBubble)return b("React").createElement("div",{className:(!!f&&d?"_6e7n":"")+(!!f&&!d?" _6e6m":"")},c,f);a=b("React").createElement("blockquote",{className:"_pye"+(!!f&&d?" _6e7n":"")+(!!f&&!d?" _6e6m":"")},b("React").createElement("div",{className:"_pyf"}),c,f);return!this.props.isLinkified?a:b("React").createElement("a",{className:"_6e6n",href:"#",onClick:this.$4},a)};a.prototype.$1=function(a){switch(a.status){case b("RepliedToMessageStatusForGraphQL").DELETED:return i._("This Message Was Deleted").toString();case b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Message is temporarily unavailable").toString()}};a.prototype.$2=function(a,c,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case b("MercuryAttachmentType").PHOTO:case b("MercuryAttachmentType").STICKER:case b("MercuryAttachmentType").THIRDPARTYSTICKER:case b("MercuryAttachmentType").ANIMATED_IMAGE:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602383")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("544881")}):b("React").createElement(b("Image.react"),{className:d,src:g("596859")});case b("MercuryAttachmentType").VIDEO:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602399")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("504242")}):b("React").createElement(b("Image.react"),{className:d,src:g("596875")});default:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("562396")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("555222")}):b("React").createElement(b("Image.react"),{className:d,src:g("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602390")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("504171")}):b("React").createElement(b("Image.react"),{className:d,src:g("596866")});else return null};a.prototype.$3=function(a){__p&&__p();var c=a.length;if(c===1&&a[0].attach_type)switch(a[0].attach_type){case b("MercuryAttachmentType").PHOTO:return i._("Photo").toString();case b("MercuryAttachmentType").VIDEO:return i._("Video").toString();case b("MercuryAttachmentType").STICKER:case b("MercuryAttachmentType").THIRDPARTYSTICKER:return i._("Sticker").toString();case b("MercuryAttachmentType").ANIMATED_IMAGE:return i._("GIF").toString();default:return i._("Attachment").toString()}else if(c>1)return i._({"*":"{number of attachments} Attachments","_1":"{number of attachments} Attachment"},[i._param("number of attachments",c),i._plural(c)]).toString();else return null};a.prototype.$5=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};e.exports=a}),null);
__d("MessageReplyDecoratorContainer.react",["ix","cx","fbt","invariant","Bootloader","CurrentUser","FantaTabActions","FbtResultBase","Image.react","Locale","MercuryConfig","MercuryIDs","MessageReplyPermissions","MessengerEnvironment","MessengerParticipants.bs","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","RepliedToMessageStatusForGraphQL","asset","gkx","messengerCustomColorUtils"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);k=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.$3();if(this.props.repliedToMessage.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;b("gkx")("AT5-H1DssNMzHFJnUsWkAc7ZTo_DRYYDCHBxlitySatfbYXgP_km8FqsTzTXC2uX7HeORenaopRdXTYwYznmUFoOqEvkESAzIjmNIdQtgjBCQQ")&&(b("MessengerEnvironment").messengerui?this.props.scrollToRepliedMessage&&this.props.scrollToRepliedMessage(this.props.repliedToMessage.message.message_id):b("FantaTabActions").jumpToMessage(this.props.threadID,this.props.repliedToMessage.message.message_id))}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.isFromViewer,d=a.repliedToMessage;a=a.authorID;var e=b("MercuryConfig").SM3BD;if(d.status===b("RepliedToMessageStatusForGraphQL").VALID&&!b("MessageReplyPermissions").isRepliableMessage(d.message))return null;a=b("MessengerParticipants.bs").getNow(a);var f=null;d.status===b("RepliedToMessageStatusForGraphQL").VALID&&(f=b("MessengerParticipants.bs").getNow(d.message.author));var h=b("MessengerEnvironment").messengerui,i=b("Locale").isRTL(),j={};this.props.customColor&&this.props.isFromViewer&&e&&(j=b("messengerCustomColorUtils").customBubbleStyle(this.props.customColor,j));d=b("React").createElement(b("RepliedToMessageContent.react"),{isFromViewer:c,isLinkified:!1,isMessengerUI:h,repliedToMessageData:d,scrollToRepliedMessage:this.props.scrollToRepliedMessage,threadID:this.props.threadID,replyInOneBubble:e});var k=this.props.messageBody&&b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(this.props.messageBody);k=this.props.messageBody&&e&&!(k&&k.length);k=k?null:b("React").createElement("div",{className:"_3egt"},b("React").createElement("div",{className:"_3egu"}),b("React").createElement("a",{className:"_3058 _hh7 _52mr _s1-"+(h?" _4k7c":"")+(h?"":" _2saq")+(this.props.isFromViewer&&e?" _43by":"")+(e?" _6e6n":""),href:"#",onClick:this.$1,style:j},b("React").createElement("div",{className:"_aok"},d)));return b("React").createElement("div",{className:"_o46 _3erg"+(c?" _3i_m":"")+(c?" _nd_":"")+(c?"":" _29_7")+" _3egs"},b("React").createElement("div",{className:"_3058"+(h?" _4k7a":"")+(h?"":" _2sap")+(h?"":" _3-9d")+(h?" _3-9b":"")+(c?" _3-90":"")+(i?"":" direction_ltr")+(i?" direction_rtl":"")},b("React").createElement(b("Image.react"),{src:g("517594"),className:"_6e38 _3-8_"}),this.$2(a,f)),k)};a.prototype.$3=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"MessageReplyDecoratorContainer.react")};a.prototype.$2=function(a,c){__p&&__p();var d=this.props,e=d.isFromViewer,f=d.repliedToMessage;d=d.authorID;f=f.message&&f.message.author;var g=f&&b("MercuryIDs").getUserIDFromParticipantID(f);d=d===f;f=b("CurrentUser").getID()===g;if(e&&(d||!c))return i._("You replied");if(!c&&!a)return f?i._("Reply to you"):i._("Reply");if(d)if(c)return i._("{sender_name} replied",[i._param("sender_name",c.short_name)]);else{a||j(0);return i._("{sender_name} replied",[i._param("sender_name",a.short_name)])}if(f)return!a?i._("Reply to you"):i._("{sender_name} replied to you",[i._param("sender_name",a.short_name)]);if(e){c||j(0);return i._("You replied to {sender_name}",[i._param("sender_name",c.short_name)])}if(!c){a||j(0);return i._("{sender_name} replied",[i._param("sender_name",a.short_name)])}return!a?i._("Reply to {original_sender_name}",[i._param("original_sender_name",c.short_name)]):i._("{sender_name} Replied to {original_sender_name}",[i._param("sender_name",a.short_name),i._param("original_sender_name",c.short_name)])};a.propTypes={isFromViewer:c.bool.isRequired,authorID:c.string.isRequired,repliedToMessage:c.object.isRequired,threadID:c.string.isRequired,scrollToRepliedMessage:c.func,messageBody:c.string,customColor:c.string};e.exports=a}),null);