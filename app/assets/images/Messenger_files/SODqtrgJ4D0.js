if (self.CavalryLogger) { CavalryLogger.start_js(["Rcvj0"]); }

__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};e.exports=c}),null);
__d("AssistantTypeaheadStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s+]";f="(?:\\.[ |$]| |\\?[ |$]|["+a+"]|)";var g=new RegExp("(?:^|\\s|\\()(["+c+"][m|M][\\s+]((?:"+d+f+"){0,200}))$");b={name:"AssistantTypeaheadStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){a=a[0];if(a!==null)return{matchingString:a,leadOffset:a.length}}return null}};e.exports=b}),null);
__d("DocumentMentionsSource",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b){typeof a.findMentionableString==="function"||g(0),this.$1=a,this.$2=b,this.$3=!1}a.prototype.findMatch=function(a){return this.$1.findMentionableString(a)};a.prototype.bootstrap=function(a){this.$3||(this.$3=!0,this.$2.bootstrap(a))};a.prototype.search=function(a,b){this.$2.search(a,b,{strategyName:this.$1.name})};e.exports=a}),null);
__d("DocumentTypeaheadCompositeMentionsSource",["invariant","DocumentMentionsRegex","SearchableEntry","createCancelableFunction","emptyFunction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("DocumentMentionsRegex").PUNCTUATION;function h(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){a.length>0||g(0),this.$1=a,this.$2=!1,this.$3=null}a.prototype.bootstrap=function(a){if(this.$2)return;this.$2=!0;a=a||b("emptyFunction");var c=this.$1.length;function d(){c--,c||a&&a()}this.$1.forEach(function(a){a.bootstrap(d)})};a.prototype.search=function(a,c,d){var e=c.getAnchorKey();a=a.getBlockForKey(e);var f=b("createCancelableFunction")(d);this.$4(h(a,c.getAnchorOffset()),f,a.getText());return{remove:function(){f.cancel()}}};a.prototype.$4=function(a,c,d){__p&&__p();a=this.$1.length;var e,f;for(var g=0;g<a;g++){e=this.$1[g];f=e.findMatch(d);var h=new RegExp("((?=.*[a-z])|(?=.*[A-Z])|(?=.*d)).$"),i=new RegExp("^[@][m|M]\\s+$");i=i.exec(d);h=h.exec(d);if(i!==null||f!==null&&h!==null){i=b("nullthrows")(f).matchingString;this.$3=i;e.search(i,function(a,d){__p&&__p();if(this.$3===d){d=a.reduce(function(a,c,d){if(c.getTitle().substring(f.leadOffset).trim().length!==0){var e=c.getTitle().substring(f.leadOffset-1);c=c.getSubtitle().substring(f.leadOffset);a.push(new(b("SearchableEntry"))({order:d,subtitle:c,title:e,uniqueID:d,dataType:"ASSISTANT_TYPEAHEAD"}))}return a},[]);c(d,0,"ASSISTANT_TYPEAHEAD")}}.bind(this));return}else continue}this.$3=null;c(null,null,"ASSISTANT_TYPEAHEAD")};e.exports=a}),null);
__d("XCuTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/langtech/cu/console_typeahead/",{value:{type:"String",defaultValue:""},mode:{type:"String",defaultValue:"HYBRID"}})}),null);
__d("createAssistantTypeaheadSearchSource",["AssistantTypeaheadStrategy","DocumentMentionsSource","DocumentTypeaheadCompositeMentionsSource","WebAsyncSearchSource","XCuTypeaheadController"],(function(a,b,c,d,e,f){"use strict";var g="157853175008984",h="244902189342061";function a(a,c,d,e){return e!==g&&e!==h&&(!d||!a||!c)?null:new(b("DocumentTypeaheadCompositeMentionsSource"))([i()])}function i(){var a={uri:b("XCuTypeaheadController").getURIBuilder().getURI()};a=new(b("WebAsyncSearchSource"))({queryRequests:[a],bootstrapRequests:[a],getAllForEmptyQuery:!0});return new(b("DocumentMentionsSource"))(b("AssistantTypeaheadStrategy"),a)}e.exports=a}),null);